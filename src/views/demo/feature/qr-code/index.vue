<template>
  <page-wrapper :title="$route.meta['title']">
    <template #content>
      <p class="text-sm">
        使用VueUse useQRCode
        <el-link type="primary" href="https://vueuse.org/integrations/useQRCode/" target="_blank">查看</el-link>
      </p>
    </template>
    <el-card shadow="none">
      <note>
        二维码的文本内容
      </note>
      <el-input v-model="text" type="text"/>
      <img v-if="text" :src="qrcode" alt="QR Code">
    </el-card>
  </page-wrapper>
</template>
<script lang="ts">
import {PageWrapper} from '~/components/Page/index.ts'
import {useQRCode} from '@vueuse/integrations/useQRCode'
import {ref} from "vue";

export default {
  name: "index",
  components: {PageWrapper},
  setup() {
    const text = ref('element-plus-admin')
    const qrcode = useQRCode(text, {
      errorCorrectionLevel: 'H',
      margin: 3,
    })

    return {
      text,
      qrcode
    }
  }
}
</script>